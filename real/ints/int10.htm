<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Низкоуровневое програмирование</title>
	<meta name="keywords" content="программирование, BIOS, INT, INT 10, реальный режим, ассемблер, 16bit, видеосервис" />
	<meta name="description" content="Низкоуровневое программирование: Прерывания БИОС: INT 10" />
</head>
<body>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter2269369 = new Ya.Metrika({id:2269369,
                    accurateTrackBounce:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/2269369" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
	<a href=../../index.htm>Главная</a> - <a href=../index.htm> Реальный режим </a> - <a href=int.htm>Прерывания Bios</a> - <b>INT 10h: Видео сервис</b><br />
	<h2>INT 10h: Видео сервис</h2>
Здесь детализированы функции INT 10h стандартного видеосервиса ROM-BIOS. <br /><br />
<table border=1><tr><td>AH </td><td> сервис</td></tr><tr><td valign="top">
00h</td><td> Устанавливает видео режим. Очистить экран, установить поля BIOS, установить режим.<br /><br />
	<b>Вход:</b><br />
		AL=режим (приведены значения для VGA-совместимых адаптеров, для иных адаптеров параметры видеорежимов могут отличаться.
	<table border=1 width=100%><tr><td>
		   AL</td>  <td>Тип</td>    <td>Формат</td> <td>Цвета</td><td>Адрес</td> <td>Количество видеостраниц</td></tr><tr><td>
			0</td>  <td>текст</td>  <td>40x25</td>  <td>16 ч/б</td>   <td>B8000h</td><td>8</td>                      </tr><tr><td>
			1</td>  <td>текст</td>  <td>40x25</td>  <td>16</td>   <td>B8000h</td><td>8</td>                      </tr><tr><td>
			2</td>  <td>текст</td>  <td>80x25</td>  <td>16 ч/б</td>   <td>B8000h</td><td>4</td>                      </tr><tr><td>
			3</td>  <td>текст</td> <td>80x25</td>  <td>16</td>   <td>B8000h</td><td>4</td>                      </tr><tr><td>
			4</td>  <td>графика</td><td>320x200</td><td>4</td>    <td>B8000h</td><td>1</td>                      </tr><tr><td>
			5</td>  <td>графика</td><td>320x200</td><td>4 ч/б</td>    <td>B8000h</td><td>1</td>                      </tr><tr><td>
			6*</td><td>графика</td><td>640x200</td><td>2</td>    <td>B8000h</td><td>1</td>                      </tr><tr><td>
			7* </td> <td>текст</td>	<td>80x25</td>	<td>2</td>    <td>B0000h</td><td>1</td>                      </tr><tr><td>
		   0Dh*</td><td>графика</td><td>320x200</td><td>16</td>   <td>A0000h</td><td>8</td>                      </tr><tr><td>
		   0Eh* </td><td>графика</td><td>640x200</td><td>16</td>   <td>A0000h</td><td>4</td>                      </tr><tr><td>
		   0Fh* </td><td>графика</td><td>640x350</td><td>2</td>    <td>A0000h</td><td>2</td>                      </tr><tr><td>
		   10h* </td><td>графика</td><td>640x350</td><td>16**</td>   <td>A0000h</td><td>1</td>                      </tr><tr><td>
		   11h* </td><td>графика</td><td>640x480</td><td>2</td>    <td>A0000h</td><td>1</td>                      </tr><tr><td>
		   12h* </td><td>графика</td><td>640x480</td><td>16</td>   <td>A0000h</td><td>1</td>                      </tr><tr><td>
		   13h*</td><td>графика</td><td>320x200</td><td>256</td>  <td>A0000h</td><td>1</td>                      </tr></table><br />
	<b>Выход:</b><br />
	AL используется для диагностики ошибок. вот некоторые распространённые коды успешного выполнения:<br />
	0<br />
	20h - использован режим с номером больше 5<br />
	30h - код режим находится в диапозоне 0-5 или равен 7<br />
	3Fh - установлен шестой режим<br /><br />
	<b>Примечание:</b><br/>
	* Этот режим может не поддерживаться<br />
	** На некоторых системах 4 цвета<br />
	<b>На самом деле известных режимов великое множество, но большинство из них поддерживается только на некоторой конкретной аппаратной платформе или даже при наличии какой-то конкретной программы в памяти, поэтому я решил не описывать их здесь все.</b><br /><br />
	Для установки режимов VESA BIOS Extension испульзуйте <a href="int10.htm#4f">функцию 4Fh подфункцию 2 прерывания 10h</a></td></tr><tr><td valign="top">
<a name=1>01h</a></td><td>Установить размер/форму курсора в <font color=red><b>текстовом режиме</b></font>.Курсор, если он видим, всегда мерцает.<br /><br />
	<b>Вход:</b><br />
	CH:<br />
	&nbsp;&nbsp;&nbsp; биты 0-4 : верхняя строка экрана, содержащая курсор<br />
	&nbsp;&nbsp;&nbsp; бит &nbsp;5 : 0 - курсор виден, иначе - не виден<br />
	&nbsp;&nbsp;&nbsp; биты 6-7 : должен быть равным нулю<br />
	CL = нижняя строка экрана, содержащая курсор (0-1Fh, т.е. используются только биты 0-4)<br/><br/>
	<b>Примечание:</b><br/>
	Некоторые старые биосы требуют, что бы в AL был номер текущего видеорежима. Но это редкость.<br/>
	Некоторые биосы используют тольео три бита для задания строки, но это редкость. Примеро может служить биос компьютера PEN*KEY-R 6400 Computer.<br />
	В графических режимах курсор нужно моделировать. Для этого можно использовать ASCII символ с кодом 0DFh (сплошной прямоугольник)<br />
	Строки экрана указываются как пиксели &quot;внутри&quot; символа</td></tr><tr><td valign="top">
<a name=2>02h</a> </td><td> Устанавливает позицию курсора.<br /><br />
	<b>Вход:</b><br />
	BH = видео страница<br/>
	DH = номер строки (считая от 0)<br />
	DL = номер столбца (считая от 0)<br /><br/>
	<b>Примечание:</b><br/>
	Некоторые биосы, в частности строго следующие спецификации Embedded BIOS 4.1, устанавливают AX в 0<br />
	Установка номера страницы производится при помощи функции <a href="int10.htm#5">5h прерывания 10h</a></td></tr><tr><td valign="top">
03h </td><td> Узнать позицию и размер курсора<br /><br/>
	<b>Вход:</b><br />
	BH = видео страница<br /><br />
	<b>Выход:</b><br />
	DH = текущая строка курсора (см. функцию <a href="int10.htm#2">02H</a>)<br />
	DL = текущий столбец курсора (см. функцию <a href="int10.htm#2">02H</a>)<br />
	CH = текущая начальная строка экрана, содержащая курсор (см. функцию <a href="int10.htm#1">01H</a>)<br />
	CL = текущая конечная строка экрана, содержащая курсор (см. функцию <a href="int10.htm#1">01H</a>)<br /><br />
	<b>Примечание:</b><br />
	Документация на PhoenixBios (rev6) гласит, что в CH возвращается конечная строка, а в CL начальная, однако, похоже, что это опечатка<br />
	Некоторые версии PhoenixBios, а так же биосы, строго следующие спецификации Embedded BIOS 4.1, устанавливают AX в ноль</td></tr><tr><td valign="top">
04h </td><td> Читать световое перо<br /><br/>
	<b>Выход:</b><br />
	AH = триггер (0=нет значений; 1=возвращены значения светового пера)<br />
	DH,DL = строка,столбец символа (текст)<br />
	BX = столбец точки (графика)<br />
	CH = строка точки (для режимов, с количеством строк экрана больше 200 значение возвращается в CX)<br /><br />
	<b>Примечание:</b><br />
	Документация на PhoenixBios(rev6) не описывает эту функцию. возможно, она не поддерживается.<br />
	Эта функция не поддерживается на стандартных VGA видеоадаптерах.<br />
	Если функция не поддерживается, то в регистре AH должнен быть 0, но насколько боисы следуют этому правилу не известно.<br />
	Использовать эту функцию в настоящее время не рекомендуется</td></tr><tr><td valign="top">
<a name=5>05h</a></td><td> Выбрать активную страницу дисплея<br /><br/>
	<b>Вход:</b><br />
	AL = номер страницы (Начиная с нуля)<br /><br />
	<b>Примечание:</b><br />
	На PCjr эта функция имеет другое значение.<br /></td></tr><tr><td valign="top">
<a name=6>06h</a> </td><td> Листать окно вверх (или очистить). Листать на 1 или более строк вверх.<br /><br/>
	<b>Вход:</b><br />
	CH,CL = строка,столбец верхнего левого угла окна (считая от 0)<br/>
	DH,DL = строка,столбец нижнего правого угла окна (считая от 0)<br/>
	AL = число пустых строк, вдвигаемых снизу (0=очистить все окно)<br/>
	BH = видео атрибут, используемый для пустых строк<br /><br />
	<b>Примечание:</b><br />
	Значение в BP может быть изменено.<br />
	На Trident TVGA8900CL (BIOS датированный 1992/9/8) DS обращается в нуль.</td></tr><tr><td valign="top">
07h</td><td> Листать окно вниз (вдвинуть пустые строки в верхнюю часть окна)<br /><br/>
	<b>Вход:</b><br />
	CH,CL = строка,столбец верхнего левого угла окна (считая от 0)<br/>
	DH,DL = строка,столбец нижнего правого угла окна (считая от 0)<br/>
	AL = число пустых строк, вдвигаемых сверху (0=очистить все окно)<br/>
	BH = видео атрибут, используемый для пустых строк<br /><br />
	<b>Примечание:</b><br />
	Значение в BP может быть изменено.<br />
	На Trident TVGA8900CL (BIOS датированный 1992/9/8) DS обращается в нуль.</td></tr><tr><td valign="top">
08h</td><td> Читать символ и атрибут в текущей позиции курсора<br /><br/>
	<b>Вход:</b><br />
	BH = номер видео страницы<br /><br />
	<b>Выход:</b><br />
	AL = прочитанный символ (ASCII код)<br />
	AH = прочитанный видео атрибут (только для текстовых режимов)<br /><br />
	<b>Примечание:</b><br />
	На настоящем IBM PC значение в BP может быть изменено.<br />
	На адаптере Tandy 2000 в графических режимах в AH возвращается цвет точки<br />
	На некоторых клонах IBM PC значения регистров SI, DI и BP может быь изменено<br /></td></tr><tr><td valign="top">
09h</td><td> Писать символ и атрибут в текущей позиции курсора<br /><br/>
	<b>Вход:</b><br />
	BH = номер видео страницы<br/>
	AL = записываемый символ (ASCII код)<br/>
	CX = счетчик (сколько экземпляров символа записать)<br/>
	BL = видео атрибут (текстовый режим) или цвет (графический режим)<br/><br />
	<b>Примечание:</b><br/>
	<font color=red><b>При записи с помощью этой функции курсор не сдвигается!</b></font><br />
	В графических режимах не рекомендуется использовать значение CX, отличное от единицы, т.к. не везде правильно реализован повтор символа<br />
	Если программа работает под управлением PTS-DOS, то значения в BH, BL и CX могут быть проигнорированны</td></tr><tr><td valign="top">
0Ah </td><td> Писать символ в текущей позиции курсора<br /><br />
	<b>Вход:</b><br />
	BH = номер видео страницы (считая с нуля) , для видео режима 13h - цвет фона<br/>
	AL = записываемый символ(ASCII код)<br />
	CX = счетчик (сколько экземпляров символа записать)<br/><br />
	<b>Примечание:</b><br/>
	<font color=red><b>При записи с помощью этой функции курсор не сдвигается!</b></font><br />
	В графических режимах не рекомендуется использовать значение, отличное от единицы, т.к. не везде правильно реализован повтор символа<br />
	Если программа работает под управлением PTS-DOS, то значения в BH и CX могут быть проигнорированны</td></tr><tr><td valign="top">
0Bh </td><td>Настройки палитры<br /><br />
	<b>Вход:</b><br/>
	<table border=1 width=100%><tr><td>BH</td><td>Подфункция</td></tr><tr><td valign=top>
		0</td><td>Цвет бордюра<br />
			BL = цвет бордюра (0-1Fh)<br /><br />
			<b>Примечание:</b><br />
			Для графических режимов - фонофый цвет, для текстовых - цвет бордюра.</td></tr><tr><td valign=top>
		1</td><td>Выбор палитры<br />
			BL - код палитры (0 - RedGreenYellow, 1 - CyanMagnetaWhite)
		</td></tr>
	</table></td></tr><tr><td valign="top">
0Ch </td><td> Писать пиксель<br /><br />
	<b>Вход:</b><br />
	BH = номер видео страницы<br/>
	DX,CX = строка,столбец , они же координаты x и y<br/>
	AL = значение цвета <br /><br />
	<b>Примечание:</b><br />
	<b><font color=red>Только графический режим</font></b><br />
	При установленом бите 7 регистра AL точка будет иметь цвет, полученый в результате поразрядной операции XOR со старым цветом точки с координатами DX,CX</td></tr><tr><td valign="top">
0Dh </td><td>Читать пиксель<br /><br />
	<b>Вход:</b><br />
	BH = номер видео страницы<br/>
	DX,CX = строка,столбец , они же координаты x и y<br/><br />
	<b>Выход:</b><br />
	AL = прочитанное значение цвета<br /><br />
	<b>Примечание:</b><br />
	Некоторые биосы игнорируют номер видеостраницы, переданный в BH и записывают точку в активную видеостраницу.<br/>
	<b><font color=red>Только графический режим</font></b></td></tr><tr><td valign="top">
<a name="e">0Eh</a> </td><td> Писать символ на активную видео страницу (эмуляция телетайпа)<br/><br/>
	<b>Вход:</b><br />
	AL = записываемый символ (использует существующий атрибут)<br/>
	BL = цвет фона (только в графических режимах)<br/><br/>
	<b>Примечание:</b><br />
	Символы CR(0Dh) LF(0Ah) BELL(7) интерпритируются как управляющие. Атрубут устанавливается равным атрибуту текущего символа.<br/>
	Некоторые ОЧЕНЬ старые БИОСы требуют, что бы в BH передавался номер активной видеостраницы. Впрочем, вы врядтли найдёте такие раритеты.<br />
	Спецификация Embedded BIOS 4.1 позволяет выбрать видеостраницу, на которую будет производится запись. Её номер ДОЛЖЕН быть передан в BH<br/>
	На некоторых символах BP может быть изменён</td></tr><tr><td valign="top">
0Fh </td><td> Читать текущий видео режим<br/><br/>
	<b>Выход:</b><br/>
	AL = текущий режим (см. функцию 00h)<br />
	AH = число текстовых столбцов на экране<br/>
	BH = текущий номер активной страницы дисплея<br /><br/>
	<b>Примечание:</b><br />
	Не все Биосы возвращают корректное значение в AL</td></tr><tr><td valign="top">
10h </td><td> Установить регистры палитры для EGA. <font color=red><b> Работает при наличии EGA-совместимой карты.(включая VGA-совместимые)</b></font><br /><br/>
	Выбирает цвета, используемые данным атрибутом экрана. умалчиваемые цвета те же, что используются с CGA (см. атрибуты экрана ).<br /><br/>
	<b>Вход:</b>
	<table border=1 width=100%><tr><td valign="top">AL</td><td> Подфункция</td></tr><tr><td valign="top">
		<a name="10sub0">0</a></td><td> Установить один регистр палитры<br /><br/>
			BL = регистр (идентифицирует 4-битовый цвет; 0-15)<br/>
			BH = значение регистра (6-битовый rgbRGB выдаваемый цвет)<br /><br />
			<b>Примечание:</b><br/>
			Существует недокументированная особенность этой функции - возможны значения вышё 15, однако менять эти регистры крайне не реккомендуется. В частности в RBIL приведена следующая информация:<br />
			&nbsp;10h attribute mode control register (should let BIOS control this)<br />
			&nbsp;11h overscan color register<br />
			&nbsp;12h color plane enable register (bits 3-0 enable corresponding text attribute bit)<br />
			&nbsp;13h horizontal PEL panning register<br />
			&nbsp;14h color select register</td></tr><tr><td valign="top">
		1</td><td> Установить регистр рамки.<br /><br/>
			BH = значение регистра (6-битовый rgbRGB выдаваемый цвет)<br /><br />
			<b>Примечание:</b><br/>
			На оригинальном IBM PC эта функция записывает данные в не правильный регистр</td></tr><tr><td valign="top">
		2</td><td> Установить все регистры палитры и регистр границы<br /><br/>
			ES:DX => 17 байт (регистры палитры (байты 0-15) и регистр границы (байты 16))<br /><br />
			<b>Примечание:</b><br/>
			Некоторые Биосы не правильно работают, если BH не равен нулю</td></tr><tr><td valign="top">
		3</td><td> Выбрать яркость или мерцание<br /><br/>
			BL,бит7 = 0:яркость фона (16 возможных цветов фона)<br/>
			BL,бит7 = 1: мерцание (8 цветов фона + мерцание переднего плана)<br /><br />
			<b>Примечание:</b><br/>
			Некоторые Биосы не правильно работают, если BH не равен нулю</td></tr><tr><td valign="top">
		7</td><td>Чтение регистра палитры<br /><br />
			BL = номер читаемого регистра палитры (0-15).<br /><br />
			<b>Выход:</b><br />
			BH = содержимое регистра палитры.<br /><br />
			<b>Примечание:</b><br/>
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			Существует недокументированная особенность этой функции - возможны значения вышё 15. подробнее в <a href="#10sub0">подфункции 0</a></td></tr><tr><td valign="top">
		8</td><td>Чтение регистра цвета рамки<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			<b>Выход:</b><br/>
			BH = содержимое регистра цвета рамки</td></tr><tr><td valign="top">
		9</td><td>Чтение всех регистров палитры<br />
			ES:DX  - указатель на 17-байтовую таблицу.(регистры палитры(байт 0-15) и регистр бордюра (байт 16))<br /><br />
			<b>Выход:</b><br/>
			По адресу ES:DX содержится таблица, заполненная значениями из регистров палитры<br /><br />
			<b>Примечание:</b><br/>
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			Рекомендуется заполнить таблицу каким-либо известным вам значением, т.к. функция никак не сообщает о неудачном выполнении.</tr></td><tr><td valign="top">
		10h </td><td> Установка одного регистра таблицы цветов (регистра ЦАП)<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			BX = номер регистра таблицы цветов (0-255);<br/>
			DH = интенсивность красного цвета (6 бит);<br/>
			CH = интенсивность зеленого цвета (6 бит);<br/>
			CL = интенсивность синего цвета (6 бит).</td></tr><tr><td valign="top">
		12h</td><td> Установка нескольких регистров таблицы цветов (регистров ЦАП)<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			BX = номер первого регистра таблицы цветов (0-255);<br />
			CX = число устанавливаемых регистров (1-256);<br />
			ES:DX    - адрес записываемых данных. должен содержать cx блоков по три байта, где старший байт - интенсивность красного цвета, средний - залёного, младший - синего.</td></tr><tr><td valign="top">
		13h</td><td>Выбор подмножества цветов<br /><b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
			<table border=1><tr><td>
				BL = 0 </td><td> выбор режима:<br />
					BH = 0 : 4 подмножества из 64 цветов;<br />
					BH = 1 : 16 подмножеств из 16 цветов;</td></tr><tr><td>
				BL = 1 </td><td> выбор активного подмножества:<br />
					BH = номер подмножества (0-4 или 0-15, в зависимости от установок, сделанных с помощью BL=0).</td></tr>
			</table><br />
			<b>Примечание:</b><br/>
			Функция не поддерживается в видеорежимах с номером 13h или больше.</td></tr><tr><td valign="top">
		15h </td><td>Чтение регистра таблицы цветов (регистра ЦАП)<br />
			BL = номер читаемого регистра (0-255).<br /><br />
			<b>Выход:</b><br/>
			DH = интенсивность красного цвета (6 бит);<br />
			CH = интенсивность зеленого цвета (6 бит);<br />
			CL = интенсивность синего цвета (6 бит);<br /><br />
			<b>Примечание:</b><br/>
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			На некоторых старых боисах функция изменяет значение регистра AX</td></tr><tr><td valign="top">
		17h </td><td>Чтение нескольких регистров таблицы цветов (регистров ЦАП)<br />
			BL = номер первого регистра таблицы цветов (0-255);цы цветов (0-255);<br />
			CX = число считываемых регистров (ES:DX - адрес таблицы цветов (CX блоков по 3 байта);<br /><br />
			<b>Выход:</b><br/>
			Данные в таблице по адресу ES:DX.<br /><br />
			<b>Примечание</b><br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			Таблица цветов содержит по три байта на один регистр таблицы цветов. В каждом байте значащимии являются только младшие 6 бит. Старший байт - интенсивность красного цвета, средний - залёного, младший - синего.</td></tr><tr><td valign="top">
		18h </td><td>Установить PEL-маску <br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			BL = Новое значение PEL</td></tr><tr><td valign="top">
		19h </td><td>Читать PEL-маску <br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			BL = Значение PEL	BL = Значение PEL</td></tr><tr><td valign="top">
		1Ah</td><td>Определение режима подмножества цветов<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br /><br />
			<b>Выход:<br />
			</b>BL = 0 - используются 4 цветовых подмножества по 64 цвета;<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - используются 16 цветовых подмножеств по 16 цветов;<br />
			BH - номер подмножества, используемого в данный момент.</td></tr><tr><td valign="top">
		1Bh</td><td>Установка палитры из градаций серого цвета<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка<br /></font></b><br />
			BX = номер первого регистра таблицы цветов (0-255);цы цветов (0-255);<br/>
			CX =  число модифицируемых регистров (1-256).</td></tr>
	</table><br />
	<b>Примечание:</b><br/>
	Регистр палитры:<br/>
	биты 7 и 6 не используются<br/>
	используемые биты:<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5 - r<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4 - g<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - b<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - R<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - G<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 - B<br/>
	По некоторым сведениям, эта функция разрушает содержимое регистров si, di, bp, sp, bx, ax. Так что при ее использовании следует соблюдать осторожность и в случае ошибок сохранять и затем восстанавливать упомянутые регистры<br/>
	Документация на PhoenixBios (rev 6) не описывает эту функцию. возможно, она не поддерживается</td></tr><tr><td valign=top>
11h</td><td> Настройка знакогенератора<br />
	<b><font color=red>Необходима EGA или VGA совместимая видеокарточка</font></b>
	<table border=1 width=100%><tr><td>AL</td><td align=center>Функции</td></tr><tr><td valign=top>
		<a name=11.0>0</a></td><td>Установка пользовательского шрифта<br /><br />
			<b>Вход:</b><br/>
			BH - число байт на один символ<br/>
			BL - Номер загружаемого блока (шрифта) знакогенератора (0-3 для CGA и 0-7 для VGA)<br/>
			CX - Число загружаемых символов<br/>
			DX - Номер первого загружаемого символа по таблице кодов символов (ASCII)<br/>
			ES:BP - указатель на загружаемую таблицу<br /><br />
			<b>Примечание:</b><br />
			<b><font color=red>Только текстовый режим</font></b><br/>
	        Эта функция может полностью изменить контекст видеокарты, что может привести к смене видеорежима или сбросу иных параметров.</td></tr><tr><td valign=top>
		<a name=11.1>1</a></td><td> Установить стандартный шрифт 8х14<br /><br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)<br /><br />
			<b>Примечание:</b><br />
			<b><font color=red>Только текстовый режим</font></b><br/>
	        Эта функция может полностью изменить контекст видеокарты, что может привести к смене видеорежима или сбросу иных параметров.</td></tr><tr><td valign=top>
		<a name=11.2>2</a></td><td> Установить стандартный шрифт 8х8<br /><br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)<br /><br />
			<b>Примечание:</b><br />
			<b><font color=red>Только текстовый режим</font></b><br/>
	        Эта функция может полностью изменить контекст видеокарты, что может привести к смене видеорежима или сбросу иных параметров.</td></tr><tr><td valign=top>
		<a name=11.3>3</a></td><td>Установка спецификатора блока шрифта<br />
			<b><font color=red>Только текстовый режим</font></b><br />
			Устанавливает 2 активных набора<br />
			Набор номер два используется если третий бит атрибута символа равен 1<br /><br />
			<b>Вход:</b><br />
			BL :<br/>
			Для адаптеров EGA/MCGA<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;биты 0-1 : первый блок(номер)<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;биты 2-3 : второй блок(номер)<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;биты 4-7 : не используется<br/>
			Для адаптеров VGA+:<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;бит 0,1,4 : номер первого блока<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;биты 2,3,5 : номер второго блока<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;биты 6-7 : не используются</td></tr><tr><td valign=top>
		<a name="11.4">4</a></td><td> Установить стандартный шрифт 8х16<br />
			<b><font color=red>Только текстовый режим</font></b><br />
			<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br /><br/>
			<b>Вход:</b><br/>
			BL - номер шрифта(0-4)</td></tr><tr><td valign=top>
		10h</td><td> Загрузить пользовательский шрифт для текстового режима<br /><br />
			<b>Вход:</b><br/>
			BH - число байт на один символ<br/>
			BL - Номер загружаемого блока (шрифта) знакогенератора (0-3 для CGA и 0-7 для VGA)<br/>
			CX - Число загружаемых символов<br/>
			DX - Номер первого загружаемого символа по таблице кодов символов ASCII<br/>	
			ES:BP - указатель на загружаемую таблицу<br /><br />
			<b>Примечание:</b><br />
			<b><font color=red>Только текстовый режим</font></b><br/>
	        Активной видеостраницей должна быть страница номер 0<br />
	        Эта функция может полностью изменить контекст видеокарты, что может привести к смене видеорежима или сбросу иных параметров.<br />
			Отличие от <a href="#11.0">подфункции 0</a> в том, что выводимое изображение обновляется, а так же сбрасываются значения ряда регистров CRTC</td></tr><tr><td valign=top>
		11h</td><td> Установить стандартный шрифт 8х14<br /><br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)<br /><br />
			<b>Примечание:</b><br />
			<b><font color=red>Только текстовый режим</font></b><br/>
	        Активной видеостраницей должна быть страница номер 0<br />
	        Эта функция может полностью изменить контекст видеокарты, что может привести к смене видеорежима или сбросу иных параметров.<br />
			Отличие от <a href="#11.1">подфункции 1</a> в том, что выводимое изображение обновляется, а так же сбрасываются значения ряда регистров CRTC</td></tr><tr><td valign=top>
		12h</td><td> Установить стандартный шрифт 8х8<br /><br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)<br /><br />
			<b>Примечание:</b><br />
			<b><font color=red>Только текстовый режим</font></b><br/>
	        Активной видеостраницей должна быть страница номер 0<br />
	        Эта функция может полностью изменить контекст видеокарты, что может привести к смене видеорежима или сбросу иных параметров.<br />
			Отличие от <a href="#11.2">подфункции 2</a> в том, что выводимое изображение обновляется, а так же сбрасываются значения ряда регистров CRTC</td></tr><tr><td valign=top>
		14h</td><td> Установить стандартный шрифт 8х16<br /><br />
			<b>Вход:</b><br/>
			BL - номер шрифта(0-4)<br /><br />
			<b>Примечание:</b><br />
			<b><font color=red>Только текстовый режим</font></b><br />
			<b><font color=red>Необходима VGA-совместимая видеокарточка</font></b><br/>
	        Активной видеостраницей должна быть страница номер 0<br />
	        Эта функция может полностью изменить контекст видеокарты, что может привести к смене видеорежима или сбросу иных параметров.<br />
			Отличие от <a href="#11.4">подфункции 4</a> в том, что выводимое изображение обновляется, а так же сбрасываются значения ряда регистров CRTC</td></tr><tr><td valign=top>
		20h</td><td> Установить пользовательский шрифт для графического режима<br /><br />
			<b>Вход:</b><br/>
			ES:BP - 2048-байтовый шрифт 8х8, 8 байт на символ<br/><br/>
			<b>Примечание:</b><br />
			<b><font color=red>Только графический режим</font></b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		21h</td><td>Установить пользовательский шрифт для графического режима (настриаваемый)<br /><br />
			<b>Вход:</b><br/>
			ES:BP - указатель на шрифт 8х8 <br />
			CX - байт на символ <br />
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки в символе<br/><br/>
			<b>Примечание:</b><br />
			<b><font color=red>Только графический режим</font></b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		22h</td><td> Установить шрифт 8x14 для графических режимов<br /><br />
			<b>Вход:</b><br/>
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки в символе<br/><br/>
			<b>Примечание:</b><br />
			<b><font color=red>Только графический режим</font></b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		23</td><td>Установить double-dot 8х8 шрифт для графических режимов<br /><br />
			<b>Вход:</b><br/>
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки в символе<br/><br/>
			<b>Примечание:</b><br />
			<b><font color=red>Только графический режим</font></b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		24</td><td>Установить double-dot 8х16 шрифт для графических режимов<br /><br />
			<b>Вход:</b><br/>
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк в символе<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки в символе<br/><br/>
			<b>Примечание:</b><br />
			<b><font color=red>Только графический режим</font></b><br />
			<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		30h</td><td>Получить информацию о шрифте<br /><br />
			<b>Вход:</b><br/>
			BH:<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 - int 1fh адрес шрифта<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 - int 44h адрес шрифта<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 - адрес шрифта 8х14<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 - адрес шрифта 8х8 double-dot<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 - адрес 8х8 double-dot (старшие 128 сbмволов) <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5 - адрес шрифта 9х14<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6 - адрес шрифта 8х16<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7 - адрес шрифта 9х16 (толька VGA+)<br /><br />
			<b>Выход:</b><br/>
			ES:BX - указывают на запрашиваемый шрифт<br/>
			CX : байт на знак в шрифте, который используется для вывода на экран (а не в запрошенном шрифте!)<br/>
			DL : наибольшая строка знака на экране (????) </td></tr>
	</table></td></tr><tr><td valign=top>
<a name="12">12h</a></td><td> Специальные функции <br/>
	<table border=1 width=100%><tr><td>BL</td><td>функция</td></tr><tr><td valign=top>
		10h</td><td> Информация о видео-карточке<br /><br />
			<b>Выход:</b><br/>
			BH - Режим (0-цветной, 1-ч/б)<br />
			BL - Размер памяти (0 - 64Кбайт, 1 - 128Кбайт, 2 - 192Кбайт, 3 - 256Кбайт)<br />
			CH - зарезервировано<br />
			CL - настройки переключения<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима EGA или VGA совместимая видеокарточка</font></b><br />
			Если перед вызовом функции установить BH в значение, отличное от нуля и единицы, то если после вызова значение BH не изменилось - значит функция не поддерживается</td></tr><tr><td valign=top>
		20h</td><td> Установить альтернативный обработчик события PrintScreen<br />
			<b><font color=red>Необходима EGA или VGA совместимая видеокарточка</font></b><br /><br />
			Заменяет обработчик события PrintScreen на прошитый в графической карте.</td></tr><tr><td valign=top>
		30h</td><td> Установить ко-во строк на видео-страницу<br /><br />
			<b>Вход:</b><br/>
			AL = 0 : 200 строк<br />
			AL = 1 : 350 строк<br />
			AL = 2 : 400 строк<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font><br/>
			Эфект появится только при следующей установке видеорежима</b></td></tr><tr><td valign=top>
		31h</td><td> Управления палитрой<br />
			Определяет необходимость загрузки стандартной палитры при смене видео-режима<br /><br />
			<b>Вход:</b><br/>
			AL=0 : загружать стандартную палитру<br />
			AL=1 : НЕ загружать стандартную палитру<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr><tr><td valign=top>
		32h</td><td> Доступ к видеопамяти<br /><br />
			<b>Вход:</b><br/>
			AL=0 : включить доступ<br />
			AL=1 : выключить доступ<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr><tr><td valign=top>
		33h</td><td> Преобразование цветов в градации серого<br /><br />
			<b>Вход:</b><br/>
			AL=0 : преобразование включёно<br />
			AL=1 : преобразование выключёно<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr><tr><td valign=top>
		34h</td><td> Управление пересчётом курсора<br />
			Определяет, должен ли BIOS автоматически пересчитывать параметры курсора<br /><br />
			<b>Вход:</b><br/>
			AL=0 : пересчёт включён<br />
			AL=1 : пересчёт выключен<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr><tr><td valign=top>
		35h</td><td> Переключение между двумя видеоадаптерами<br /><br />
			<b>Вход:</b><br />
			AL:<br />
			&nbsp;&nbsp; 0 - выключить основной видеоадаптер<br />
			&nbsp;&nbsp; 1 - включить основной видеоадаптер<br />
			&nbsp;&nbsp; 2 - выключить дополнительный видеоадаптер<br />
			&nbsp;&nbsp; 3 - включить дополнительный видеоадаптер<br />
			ES:DX : 128-ми байтный буфер для контекста видеоадаптера.<br />	<br/>
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b><br />
			Включение одновременно двух видеоадаптеров может привести к значительным проблемам в системе, по этому строжайше запрещенно</td></tr><tr><td valign=top>
		36h</td><td> Обновление экрана<br />
			Определяет, должна ли видео-карточка автоматически обновлять экран<br /><br />
			<b>Вход:</b><br/>
			AL=0 : автоматическое обновление экрана включено<br />
			AL=1 : автоматическое обновление экрана выключено<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b><br />Обычно, при отключении обновления экрана с него исчезает всякое изображение</td></tr>
	</table></td></tr><tr><td valign=top>
13H </td><td> Писать строку.<br/><br />
	<b>Вход:</b><br/>
	ES:BP => выводимая строка<br/>
	CX = длина строки (подсчитываются только символы)<br/>
	DH,DL = строка,столбец начала вывода<br/>
	BH = номер страницы<br/>
	AL = код подфункции:<br/>
	&nbsp;&nbsp;   0 = использовать атрибут в BL; не трогать курсор<br/>
	&nbsp;&nbsp;1 = использовать атрибут в BL; курсор - в конец строки<br/>
	&nbsp;&nbsp;2 = После каждого знака записан атрибут, не трогать курсор<br/>
	&nbsp;&nbsp;3 = После каждого знака записан атрибут, передвинуть курсор<br /><br/>
	<b>Примечание:</b><br/>
	<b><font color=red>Необходима EGA или VGA совметимая видеокарточка.<br />
	Работает только на AT-совместимых компьютерах.</font></b><br/>
	Cимволы 0dH(CarRet), 0aH (LineFeed), 08H (backspace) и 07H (Beep) трактуются как команды управления и не высвечиваются.<br />
	Документация на PhoenixBios (rev6) не описывает параметр BH. Возможно, значение BH игнорируется<br />
	Если программа работает под управлением PTS-DOS, то значения в AL, BH, BL, DH и DL могут быть проигнорированны </td></tr><tr><td valign=top>
<a name=4f>4Fh</a> </td><td> VBE <br/>
	Подробнее на странице <a href=../vbereal.htm>VBE</a></td></tr></table><br />
</body>
</html>