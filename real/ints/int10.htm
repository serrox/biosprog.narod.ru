<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Низкоуровневое програмирование</title>
	<meta name="keywords" content="программирование BIOS INT INT10 реальный режим ассемблер 16bit видеосервис" />
	<meta name="description" content="Низкоуровневое программирование: Прерывания БИОС: INT 10" />
</head>
<body>
    <a href=../../index.htm>Главная</a> - <a href=../index.htm> Реальный режим </a> - <a href=int.htm>Прерывания Bios</a> - <b>INT 10h: Видео сервис</b><br />
	<h2>INT 10h: Видео сервис</h2>
Здесь детализированы функции INT 10h стандартного видеосервиса ROM-BIOS. <br /><br />
<table border=1><tr><td>AH </td><td> сервис</td></tr>
<tr><td valign="top">00h</td><td> Устанавливает видео режим. Очистить экран, установить поля BIOS, установить режим.<br />
    <b>Вход:</b><br />
		AL=режим (приведены значения для VGA-совместимых адаптеров, для иных адаптеров параметры видеорежимов могут отличаться.
    <table border=1 width=100%><tr><td>
           AL</td>  <td>Тип</td>    <td>Формат</td> <td>Цвета</td><td>Адрес</td> <td>Количество видеостраниц</td></tr><tr><td>
            0</td>  <td>текст</td>  <td>40x25</td>  <td>16</td>   <td>B8000h</td><td>8</td>                      </tr><tr><td>
            1</td>  <td>текст</td>  <td>40x25</td>  <td>16</td>   <td>B8000h</td><td>8</td>                      </tr><tr><td>
            2</td>  <td>текст</td>  <td>80x25</td>  <td>16</td>   <td>B8000h</td><td>8</td>                      </tr><tr><td>
            3*</td>  <td>текст</td> <td>80x25</td>  <td>16</td>   <td>B8000h</td><td>8</td>                      </tr><tr><td>
            4</td>  <td>графика</td><td>320x200</td><td>4</td>    <td>B8000h</td><td>1</td>                      </tr><tr><td>
            5</td>  <td>графика</td><td>320x200</td><td>4</td>    <td>B8000h</td><td>1</td>                      </tr><tr><td>
            6 </td> <td>графика</td><td>640x200</td><td>2</td>    <td>B8000h</td><td>1</td>                      </tr><tr><td>
            7 </td> <td>графика</td><td>720x400</td><td>2</td>    <td>B0000h</td><td>1</td>                      </tr><tr><td>
           0Dh</td> <td>графика</td><td>320x200</td><td>16</td>   <td>A0000h</td><td>8</td>                      </tr><tr><td>
           0Eh </td><td>графика</td><td>640x200</td><td>16</td>   <td>A0000h</td><td>4</td>                      </tr><tr><td>
           0Fh </td><td>графика</td><td>640x350</td><td>2</td>    <td>A0000h</td><td>2</td>                      </tr><tr><td>
           10h </td><td>графика</td><td>640x350</td><td>16</td>   <td>A0000h</td><td>1</td>                      </tr><tr><td>
           11h </td><td>графика</td><td>640x480</td><td>2</td>    <td>A0000h</td><td>1</td>                      </tr><tr><td>
           12h </td><td>графика</td><td>640x480</td><td>16</td>   <td>A0000h</td><td>1</td>                      </tr><tr><td>
           13h </td><td>графика</td><td>320x200</td><td>256</td>  <td>A0000h</td><td>1</td>                      </tr></table>
    *У третьего видеорежима когда загружен шрифт размером 8х8, строка имеет длинну 50 символов<br /><br />
	<b>На самом деле известных режимов великое множество, но большинство из них поддерживается только на некоторой конкретной аппаратной платформе или даже при наличии какой-то конкретной программы в памяти, поэтому я решил не описывать их здесь все.</b><br /><br />
	Для установки режимов VESA BIOS Extension испульзуйте <a href="int10.htm#4f">функцию 4Fh подфункцию 2 прерывания 10h</a></td></tr><tr><td valign="top">
<a name=1>01h</a></td><td>
	Установить размер/форму курсора в <font color=red><b>текстовом режиме</b></font>.Курсор, если он видим, всегда мерцает.<br /><br />
    <b>Вход:</b><br />
		    CH:<br />
&nbsp; биты 0-4 : верхняя строка экрана, содержащая курсор<br />
&nbsp; биты 5-6 : 0 - курсор виден, иные зачения&nbsp; - не виден (для для более старых адаптеров, кроме EGA-совместимых, значения, отличные от нуля могут нести какой-либо смысл, по этому для исчезновения курсора рекоментуется бит 6 устанавливать в ноль, и бит 5 в единицу)<br />
&nbsp; бит 7 : должен быть равным нулю<br />
        CL = нижняя строка экрана, содержащая курсор (0-1Fh, т.е. используются только биты 0-4)<br/><br/>
	<b>Примечание:</b><br/>
		Некоторые старые биосы требуют, что бы в AL был номер текущего видеорежима. Но это редкость.<br/>
		Стандартно экран содержит <span lang="ru">25</span> строк, однако это значение меняется в зависимости от режима.<br />
		В графических режимах курсор нужно моделировать. Для этого можно использовать ASCII символ с кодом 0DFh (сплошной прямоугольник)<br />
            Строки экрана указываются &quot;внутри символа&quot; символа</td></tr><tr><td valign="top">
<a name=2>02h</a> </td><td> Устанавливает позицию курсора.<br /><br />
    <b>Вход:</b><br />
		BH = видео страница<br/>
        DH = номер строки (считая от 0)<br />
        DL = номер столбца (считая от 0)<br /><br/>
	<b>Примечание:</b><br/>
	Установка номера страницы производится при помощи функции <a href="int10.htm#5">5h прерывания 10h</a></td></tr><tr><td valign="top">
03h </td><td> Узнать позицию и размер курсора<br /><br/>
	<b>Вход:</b><br />
		BH = видео страница<br />
            <br />
	<b>Выход:</b><br />
		DH = текущая строка курсора (см. функцию <a href="int10.htm#2">02H</a>)<br />
		DL = текущая колонка курсора (см. функцию <a href="int10.htm#2">02H</a>)<br />
        CH = текущая начальная строка экрана, содержащая курсор (см. функцию <a href="int10.htm#1">01H</a>)<br />
	    CL = текущая конечная строка экрана, содержащая курсор (см. функцию <a href="int10.htm#1">01H</a>)<br /><br />
	<b>Примечание:</b><br />
	Документация на PhoenixBios (rev6) гласит, что в CH возвращается конечная строка, а в CL начальная, однако похоже, что это опечатка</td></tr><tr><td valign="top">
04h </td><td> Читать световое перо<br />
            <font color="red"><b>Не поддреживается на VGA-адаптерах</b></font><br /><br/>
	<b>Выход:</b><br />
		AH = триггер (0=нет значений; 1=возвращены значения светового пера)<br />
        DH,DL = строка,колонка символа (текст)<br />
        BX = колонка точки (графика)<br />
        CH = строка точки (для режимов, с количеством строк экрана больше 200 значение возвращается в CX)<br /><br />
	<b>Примечание:</b><br />
		Документация на PhoenixBios(rev6) не описывает эту функцию. возможно, она не поддерживается.<br />
		Эта функция не поддерживается на стандартных VGA видеоадаптерах.</td></tr><tr><td valign="top">
<a name=5>05h</a></td><td> Выбрать активную страницу дисплея<br /><br/>
    <b>вход:</b><br />
		AL = номер страницы (Начиная с нуля)</td></tr><tr><td valign="top">
<a name=6>06h</a> </td><td> Листать окно вверх (или очистить). Листать на 1 или более строк вверх.<br /><br/>
    <b>Вход:</b><br />
		CH,CL = строка,колонка верхнего левого угла окна (считая от 0)<br/>
        DH,DL = строка,колонка нижнего правого угла окна (считая от 0)<br/>
        AL = число пустых строк, вдвигаемых снизу (0=очистить все окно)<br/>
        BH = видео атрибут, используемый для пустых строк<br /><br />
	<b>Примечание:</b><br />
		Значение в BP может быть изменено.<br />
		На Trident TVGA8900CL (BIOS датированный 1992/9/8) DS обращается в нуль.</td></tr><tr><td valign="top">
07h</td><td> Листать окно вниз (вдвинуть пустые строки в верхнюю часть окна)<br /><br/>
    <b>Вход:</b><br />
		CH,CL = строка,колонка верхнего левого угла окна (считая от 0)<br/>
        DH,DL = строка,колонка нижнего правого угла окна (считая от 0)<br/>
        AL = число пустых строк, вдвигаемых сверху (0=очистить все окно)<br/>
        BH = видео атрибут, используемый для пустых строк<br /><br />
	<b>Примечание:</b><br />
	Значение в BP может быть изменено.<br />
	На Trident TVGA8900CL (BIOS датированный 1992/9/8) DS обращается в нуль.</td></tr><tr><td valign="top">
08h</td><td> Читать символ и атрибут в текущей позиции курсора<br /><br/>
    <b>Вход:</b><br />
		BH = номер видео страницы<br />
            <br />
    <b>Выход:</b><br />
		AL = прочитанный символ (ASCII код)<br />
		AH = прочитанный видео атрибут (только для текстовых режимов)<br /><br />
	<b>Примечание:</b><br />
	На настоящем IBM PC значение в BP может быть изменено.<br />
            На адаптере Tandy 2000 в графических режимах в AH возвращается цвет точки<br />
            На некоторых клонах IBM PC значения регистров SI, DI и BP может быь изменено<br /></td></tr><tr><td valign="top">
09h</td><td> Писать символ и атрибут в текущей позиции курсора<br /><br/>
    <b>Вход:</b><br />
		BH = номер видео страницы<br/>
        AL = записываемый символ (ASCII код)<br/>
        CX = счетчик (сколько экземпляров символа записать)<br/>
        BL = видео атрибут (текстовый режим) или цвет (графический режим)<br/><br />
	<b>Примечание:</b><br/>
<font color=red><b>При записи с помощью этой функции курсор не сдвигается!</b></font><br />
            В графических режимах не рекомендуется использовать значение, отличное от единицы, т.к. не везде правильно реализован повтор символа<br />
            Если программа работает под управлением PTS-DOS, то значения в BH, BL и CX могут быть проигнорированны</td></tr><tr><td valign="top">
0Ah </td><td> Писать символ в текущей позиции курсора<br />
            <br />
    <b>Вход:</b><br />
		BH = номер видео страницы (считая с нуля) , для видео режима 13h - цвет фона<br/>
        AL = записываемый символ(ASCII код)<br />
        CX = счетчик (сколько экземпляров символа записать)<br/><br />
	<b>Примечание:</b><br/>
<font color=red><b>При записи с помощью этой функции курсор не сдвигается!</b></font><br />
            В графических режимах не рекомендуется использовать значение, отличное от единицы, т.к. не везде правильно реализован повтор символа<br />
            Если программа работает под управлением PTS-DOS, то значения в BH и CX могут быть проигнорированны</td></tr><tr><td valign="top">
0Bh </td><td> 
	        Выбрать цвет фона/бордюра<br />
        <br />
    <b>Вход:</b><br/>
					BL = цвет фона/бордюра (0-1Fh)<br />
            BH = 0<br /><br />
					<b>Примечание:</b><br />
					для текстовых режимов - фонофый цвет, для графических - цвет бордюра.<br />
            На старых видеокарточках существуют подфункции с номером (BH) отличным отнуля, однако достоверых сведений о поддержки этих функций современными видеокарточками не найдено</td></tr><tr><td valign="top">
0Ch </td><td> Писать графическую точку<br />
	<b><font color=red>Только графический режим</font></b><br /><br />
    <b>Вход:</b><br />
		BH = номер видео страницы<br/>
		DX,CX = строка,колонка , они же координаты x и y<br/>
		AL = значение цвета <br /><br />
	<b>Примечание:</b><br />
		При установленом бите 7 регистра AL точка будет иметь цвет, полученый в результате поразрядной операции XOR со стрым цветом точки с координатами DX,CX</td></tr><tr><td valign="top">
0Dh </td><td> читать графическую точку<br/>
	<b><font color=red>Только графический режим</font></b><br /><br />
    <b>вход:</b><br />
		BH = номер видео страницы<br/>
            DX,CX = строка,колонка , они же координаты x и y<br/>
    <b>выход:</b><br />
		AL = прочитанное значение цвета<br /><br />
	<b>Примечание:</b><br />
		Некоторые биосы игнорируют номер видеостраницы, переданный в BH и записывают точку в активную видеостраницу.</td></tr><tr><td valign="top">
<a name="e">0Eh</a> </td><td> писать символ на активную видео страницу (эмуляция телетайпа)<br/><br/>
    <b>вход:</b><br />
		AL = записываемый символ (использует существующий атрибут)<br/>
        BL = цвет фона (только в графических режимах)<br/><br/>
	<b>Примечание:</b><br />
		Символы CR(0Dh) LF(0Ah) BELL(7) интерпритируются как управляющие. Атрубут устанавливается равным атрибуту текущего символа.<br/>
		Некоторые ОЧЕНЬ старые БИОСы требуют, что бы в BH передавался номер активной видеостраницы. Впрочем, вы врядтли найдёте такие раритеты.<br />
            На некоторых символах BP может быть изменён</td></tr><tr><td valign="top">
0Fh </td><td> читать текущий видео режим<br/><br/>
    <b>выход:</b><br/>
		AL = текущий режим (см. функцию 00h)<br/>
        AH = число текстовых колонок на экране<br/>
        BH = текущий номер активной страницы дисплея</td></tr><tr><td valign="top">
10h </td><td> Установить регистры палитры для EGA. <font color=red><b> Работает при наличии EGA-совместимой карты.(включая VGA-совместимые)</b></font><br /><br/>
    Выбирает цвета, используемые данным атрибутом экрана. умалчиваемые цвета те же, что используются с CGA (см. атрибуты экрана ).<br /><br/>
    <b>вход:</b>
	<table border=1 width=100%><tr><td valign="top">
			AL = 0</td><td> уст. один регистр палитры<br/>
					BL = регистр (идентифицирует 4-битовый цвет; 0-15)<br/>
					BH = значение регистра (6-битовый rgbRGB выдаваемый цвет)<br />
					<b>Примечание:</b><br/>
					Существует недокументированная особенность этой функции - возможны значения вышё 15, однако менять эти регистры крайне не реккомендуется. Подробности см. в RBIL </td></tr><tr><td valign="top">
			AL = 1</td><td> уст. регистр рамки.<br/>
					BH = значение регистра (6-битовый rgbRGB выдаваемый цвет)</td></tr><tr><td valign="top">
			AL = 2</td><td> уст. все регистры палитры и регистр границы<br/>
					ES:BX => 17 байт (регистры палитры (байты 0-15) и регистр границы (байты 16))</td></tr><tr><td valign="top">
			AL = 3</td><td> выбрать яркость или мерцание<br/>
					BL,бит7 = 0:яркость фона (16 возможных цветов фона)<br/>
					BL,бит7 = 1: мерцание (8 цветов фона + мерцание переднего плана)</td></tr><tr>
                    <td valign="top">
			AL = 7</td><td>Чтение регистра палитры<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					BL = номер читаемого регистра палитры (0-15).<br />
					<b>выход:</b><br />
					BH = содержимое регистра палитры.</td></tr><tr><td valign="top">
			AL = 8</td><td>Чтение регистра цвета рамки<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					<b>выход:</b><br/>
					BH = содержимое регистра цвета рамки</td></tr><tr><td valign="top">
			AL=9</td><td>Чтение всех регистров палитры<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					ES:DX  - указатель на 17-байтовую таблицу.(регистры палитры(байт 0-15) и регистр бордюра (байт 16))<br />
					<b>выход:</b><br/>
					По адресу ES:DX содержится таблица, заполненная значениями из регистров палитры<br />
					<b>Примечание:</b><br/>
					Рекомендуется заполнить таблицу значениями FFh, т.к. функция никак не сообщает о неуддачном выполнении.</tr></td><tr><td valign="top">
			AL = 10h </td><td> Установка одного регистра таблицы цветов (регистров ЦАП)<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					BX = номер регистра таблицы цветов (0-255);<br/>
					DH = интенсивность красного цвета (6 бит);<br/>
					CH = интенсивность зеленого цвета (6 бит);<br/>
					CL = интенсивность синего цвета (6 бит).</td></tr><tr><td valign="top">
			AL = 12h</td><td> Установка нескольких регистров таблицы цветов (регистров ЦАП)<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					BX = номер первого регистра таблицы цветов (0-255);<br />
					CX = число устанавливаемых регистров (1-256);<br />
					ES:DX    - адрес записываемых данных.</td></tr><tr><td valign="top">
			AL = 13h</td><td>Выбор подмножества цветов<br /><b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					<table border=1><tr><td>
						BL = 0 </td><td> выбор режима:<br />
							BH = 0 : 4 подмножества из 64 цветов;<br />
							BH = 1 : 16 подмножеств из 16 цветов;</td></tr><tr><td>
						BL = 1 </td><td> выбор активного подмножества:<br />
							BH = номер подмножества (0-4 или 0-15, в зависимости от установок, сделанных с помощью BL=0).</td></tr></table><br />
					<b>Примечание:</b><br/>
					Функция не поддерживается в видеорежиме с номером 13h или больше.</td></tr><tr><td valign="top">
			AL = 15h </td><td>Чтение регистра таблицы цветов<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					BL = номер читаемого регистра (0-255).<br />
					<b>выход:</b><br/>
					DH = интенсивность красного цвета (6 бит);<br />
					CH = интенсивность зеленого цвета (6 бит);<br />
					CL = интенсивность синего цвета (6 бит);<br />
					<b>Примечание:</b><br/>
					на некоторых старых боисах функция изменяет значение регистра AX</td></tr><tr><td valign="top">
			AL = 17h </td><td>Чтение нескольких регистров таблицы цветов (регистров ЦАП)<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					BL = номер первого регистра таблицы цветов (0-255);<br />
					CX = число считываемых регистров (1-256);<br />
					ES:DX    - адрес таблицы цветов (CX*3 байт);<br />
					<b>выход:</b><br/>
					Данные в таблице по адресу ES:DX.<br />
					<b>Примечание:</b><br/>
					Таблица цветов содержит по три байта на один регистр таблицы цветов. В каждом байте значащимии являются только младшие 6 бит.</td></tr><tr><td valign="top">
			AL = 18h </td><td>Установить PEL-маску <br />
					<b><font color=red>необходима VGA- или MCGA-совместимая видеокарточка</font></b><br />
					BL = Новое значение PEL</td></tr><tr><td valign="top">
			AL = 19h </td><td>Читать PEL-маску <br />
					<b><font color=red>необходима VGA- или MCGA-совместимая видеокарточка</font></b><br />
					BL = Значение PEL</td></tr><tr><td valign="top">
			AL = 1Ah</td><td>Определение режима подмножества цветов<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					<b>выход:</b>
					BL = 0 - используются 4 цветовых подмножества по 64 цвета;<br />
					1 - используются 16 цветовых подмножеств по 16 цветов;<br /><br />
					BH - номер подмножества, используемого в данный момент.</td></tr><tr><td valign="top">
			AL = 1Bh</td><td>Установка палитры из градаций серого цвета<br />
					<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
					BX = номер первого регистра таблицы цветов (0-255);<br/>
					CX =  число модифицируемых регистров (1-256).</td></tr>
		</table>
	<b>Примечание:</b><br/>
	Регистр палитры:<br/>
	биты 7 и 6 не используются<br/>
	используемые биты:<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5 - r<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4 - g<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - b/I<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - R<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - G<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 - B<br/>
    Интенсивность для режимов CGA - точных свдений не найдено<br/>
	По некоторым сведениям, эта функция разрушает содержимое регистров si, di, bp, sp, bx, ax. Так что при ее использовании следует соблюдать осторожность и в случае ошибок сохранять и затем восстанавливать упомянутые регистры<br/>
	Документация на PhoenixBios (rev 6) не описывает эту функцию. возможно, она не поддерживается</td></tr><tr><td valign=top>
11h</td><td> Настройка знакогенератора<br />
	<b><font color=red>Необходима EGA или VGA совместимая видеокарточка</font></b>
	<table border=1 width=100%><tr><td>AL</td><td align=center>Функции</td></tr><tr><td valign=top>
		<a name=11.0>0</a></td><td>Установка пользовательского шрифта<br />
			<b><font color=red>Только текстовый режим</font></b><br /><br />
			<b>Вход:</b><br/>
			BH - число байт на один символ<br/>
			BL - Номер загружаемого блока (шрифта) знакогенератора (0-3 для CGA и 0-7 для VGA)<br/>
			CX - Число загружаемых символов<br/>
			DX - Номер первого загружаемого символа по таблице кодов символов ASCII<br/>	
			ES:BP - указатель на загружаемую таблицу</td></tr><tr><td valign=top>
		<a name=11.1>1</a></td><td> Установить стандартный шрифт 8х14<br />
			<b><font color=red>Только текстовый режим</font></b><br /><br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)</td></tr><tr><td valign=top>
		<a name=11.2>2</a></td><td> Установить стандартный шрифт 8х8<br />
			<b><font color=red>Только текстовый режим</font></b><br /><br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)</td></tr><tr><td valign=top>
		<a name=11.3>3</a></td><td>Установка спецификатора блока шрифта<br />
			<b><font color=red>Только текстовый режим</font></b><br /><br />
			Устанавливает 2 активных набора<br />
			Набор номер два используется если третий бит атрибута символа равен 1<br /><br />
			<b>Вход:</b><br />
			BL :<br />
			биты 0-1 : первый блок(номер)<br/>
			биты 2-3 : второй блок(номер)<br/>
			Для адаптеров CGA и подобных<br/>
			биты 4-7 : не используется<br/>
			Для адаптеров VGA+:<br/>
			бит 4 : старший бит первого блока<br/>
			бит 5 : старший бит второго блока<br/>
			биты 6-7 : не используются</td></tr><tr><td valign=top>
		4</td><td> Установить стандартный шрифт 8х16<br />
			<b><font color=red>Только текстовый режим</font></b><br /><br />
			<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
			<b>Вход:</b><br/>
			BL - номер шрифта(0-4)</td></tr><tr><td valign=top>
		10h</td><td> Загрузить пользовательский шрифт для текстового режима<br /><br />
			<b>Вход:</b><br/>
			BH - число байт на один символ<br/>
			BL - Номер загружаемого блока (шрифта) знакогенератора (0-3 для CGA и 0-7 для VGA)<br/>
			CX - Число загружаемых символов<br/>
			DX - Номер первого загружаемого символа по таблице кодов символов ASCII<br/>	
			ES:BP - указатель на загружаемую таблицу</td></tr><tr><td valign=top>
		11h</td><td> Установить стандартный шрифт 8х14<br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)</td></tr><tr><td valign=top>
		12h</td><td> Установить стандартный шрифт 8х8<br />
			<b>Вход:</b><br />
			BL - номер шрифта(0-3 для CGA и 0-7 для VGA)</td></tr><tr><td valign=top>
		14h</td><td> Установить стандартный шрифт 8х16<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
			<b>Вход:</b><br/>
			BL - номер шрифта(0-4)</td></tr><tr><td valign=top>
		20h</td><td> Установить пользовательский шрифт для графического режима<br />
			<b>Вход:</b><br/>
			ES:BP - 2048-байтовый шрифт 8х8, 8 байт на символ<br/><br/>
			<b>Примечание:</b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		21h</td><td>Установить пользовательский шрифт для графического режима (настриаваемый)<br />
			<b>Вход:</b><br/>
			ES:BP - указатель на шрифт 8х8 <br />
			CX - байт на символ <br />
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки на экране<br/><br/>
			<b>Примечание:</b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		22h</td><td> Установить шрифт 8x14 для графических режимов<br />
			<b>Вход:</b><br/>
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки на экране<br/><br/>
			<b>Примечание:</b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		23</td><td>Установить double-dot 8х8 шрифт для графических режимов<br />
			<b>Вход:</b><br/>
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки на экране<br/><br/>
			<b>Примечание:</b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		24</td><td>Установить double-dot 8х16 шрифт для графических режимов<br />
			<b><font color=red>необходима VGA-совместимая видеокарточка</font></b><br />
			<b>Вход:</b><br/>
			BL: <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 : DL - кол-во строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 - 14 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 - 25 строк на экране<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 - 43 строки на экране<br/><br/>
			<b>Примечание:</b><br/>
			Функцию необходимо вызывать сразу после смены режима.</td></tr><tr><td valign=top>
		30h</td><td>Получить информацию о шрифте<br />
			<b>Вход:</b><br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 - int 1fh адрес шрифта<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 - int 44h адрес шрифта<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 - адрес шрифта 8х14<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 - адрес шрифта 8х8 double-dot<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 - адрес 8х8 double-dot (старшие 128 самволов) <br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5 - адрес шрифта 9х14<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6 - адрес шрифта 8х16<br />
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7 - адрес шрифта 9х16 (толька VGA+)<br />
			<b>Выход:</b><br/>
			ES:BX - указывают на запрашиваемый шрифт<br/>
			CX : байт на знак в шрифте, который используется для вывода на экран (а не в запрошенном шрифте!)<br/>
			DL : наибольшая строка знака на экране (лолшто????) </td></tr>
	</table></td></tr><tr><td valign=top>
<a name="12">12h</a></td><td> Специальные функции <br/>
	<table border=1 width=100%><tr><td>BL</td><td>функция</td></tr>
		<tr><td valign=top>10h</td><td> Информация о видео-карточке<br />
			<b>Выход:</b><br/>
			BH - Режим (0-цветной, 1-ч/б)<br />
			BL - Размер памяти (0 - 64Кбайт, 1 - 128Кбайт, 2 - 192Кбайт, 3 - 256Кбайт)<br />
			CH - зарезервировано<br />
			CL - настройки переключения<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима EGA или VGA совместимая видеокарточка</font></b></td></tr>
		<tr><td valign=top>20h</td><td> Пересчитать метод вывода.<br />
			<font color=red> НЕОБХОДИМО ДЕЛАТЬ КАЖДЫЙ РАЗ ПОСЛЕ ИЗМЕНЕНИЯ КОЛИЧЕСТВА СТРОК НА ВИДЕО-СТРАНИЦУ</FONT><br />
			<b><font color=red>Необходима EGA или VGA совместимая видеокарточка</font></b></td></tr>
		<tr><td valign=top>30h</td><td> Установить ко-во строк на видео-страницу<br />
			<b>Вход:</b><br/>
			AL = 0 : 200 строк<br />
			AL = 1 : 350 строк<br />
			AL = 2 : 400 строк<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr>
		<tr><td valign=top>31h</td><td> Управления палитрой<br />
			Определяет необходимость загрузки стандартной палитры при смене видео-режима<br />
			<b>Вход:</b><br/>
			AL=0 : загружать стандартную палитру<br />
			AL=1 : НЕ загружать стандартную палитру<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr>
		<tr><td valign=top>32h</td><td> Доступ к видеопамяти<br /><br />
			<b>Вход:</b><br/>
			AL=0 : включить доступ<br />
			AL=1 : выключить доступ<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr>
		<tr><td valign=top>34h</td><td> Управление пересчётом курсора<br />
			Определяет, должен ли BIOS автоматически пересчитывать параметры курсора<br />
			<b>Вход:</b><br/>
			AL=0 : пересчёт включён<br />
			AL=1 : пересчёт выключен<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr>
		<tr><td valign=top>36h</td><td> Обновление экрана<br />
			Определяет, должна ли видео-карточка автоматически обновлять экран<br />
			<b>Вход:</b><br/>
			AL=0 : автоматическое обновление экрана включено<br />
			AL=1 : автоматическое обновление экрана выключено<br /><br />
			<b>Выход:</b><br/>
			AL=12, иначе функция не поддерживается.<br /><br/>
			<b>Примечание:</b><br/>
			<b><font color=red>Необходима VGA совместимая видеокарточка</font></b></td></tr>
	</table></td></tr><tr><td valign=top>
13H </td><td> Писать строку.<br/>
<b><font color=red>Необходима EGA или VGA совметимая видеокарточка.<br />Работает только на AT-совместимых компьютерах.</font></b><br />
			<b>Вход:</b><br/>
			ES:BP => выводимая строка<br/>
            CX = длина строки (подсчитываются только символы)<br/>
            DH,DL = строка,колонка начала вывода<br/>
            BH = номер страницы<br/>
            AL = код подфункции:<br/>
            &nbsp;&nbsp;   0 = использовать атрибут в BL; не трогать курсор<br/>
               &nbsp;&nbsp;1 = использовать атрибут в BL; курсор - в конец строки<br/>
               &nbsp;&nbsp;2 = После каждого знака записан атрибут, не трогать курсор<br/>
               &nbsp;&nbsp;3 = После каждого знака записан атрибут, передвинуть курсор<br /><br/>
			<b>Примечание:</b><br/>
			Cимволы 0dH(CarRet), 0aH (LineFeed), 08H (backspace) и 07H (Beep) трактуются как команды управления и не высвечиваются.<br />
			Документация на PhoenixBios (rev6) не описывает параметр BH. Возможно, значение BH игнорируется</td></tr><tr><td valign=top>
<a name=4f>4Fh</a> </td><td> VBE <br/>
Смотрим страницу <a href=../../oth/vbereal.htm>VBE</a></td></tr></table><br />
</body>
</html>