<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Низкоуровневое програмирование</title>
	<meta name="keywords" content="программирование, DOS, INT 33, реальный режим, ассемблер, мышь" />
	<meta name="description" content="Низкоуровневое программирование: Прерывания DOS: INT 33h: Работа с мышью." />
</head>
<body>
<!-- Yandex.Metrika counter -->
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript"></script>
<script type="text/javascript">
try { var yaCounter2269369 = new Ya.Metrika({id:2269369,
          webvisor:true,
          trackLinks:true,
          accurateTrackBounce:true});
} catch(e) { }
</script>
<noscript><div><img src="//mc.yandex.ru/watch/2269369" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
	<a href=../../index.htm>Главная</a> - <a href=../index.htm> Реальный режим </a> - <a href=ints.htm>Прерывания DOS</a> - <b>INT 33h: Работа с мышью.</b><br />
	<h2>INT 33h: Работа с мышью.</h2>
	<table border=1><tr><td>
	AX</td><td>Функция</td></tr><tr><td>
	0</td><td>
		Проверить наличие драйвера мыши и произвести сброс драйвера<br />
		Выход:<br />
		AX = 0 - нет драйвера<br />
		AX = FFFFh - есть драйвер<br />
		BX = тип мыши (FFFFh - стандартная двухкнопочная мышь Microsoft)<br /><br />
		<b>Примечание:</b> после выполнения функции верны следующие параметры:<br />
		Указатель мыши в центре экрана<br />
		Курсор не отображается<br />
		Курсору придана стандартная форма<br />
		Работа пользовательского обработчика сообщений мыши заблокированна<br />
		Курсор может перемещатся по всему экрану<br />
		Чуствительность по вертикали 16, по горизонтали 8<br />
		Порог удвоения скорости - 64
	</td></tr><tr><td>
	1</td><td> Отобразить курсор<br />
		<b><font color=red>Только для текстового режима!</font></b>
	</td></tr><tr><td>
	2</td><td> Скрыть курсор<br />
		<b><font color=red>Только для текстового режима!</font></b>
	</td></tr><tr><td>
	3</td><td> Получить информацию о положении курсора и состоянии клавиш мыши<br />
		Выход:<br />
		BX - состояние кнопок мыши (бит 0 - левая кнопка, бит 1 - правая кнопка, бит 2 - средняя кнопка)<br />
		CX - горизонтальная координата курсора<br />
		DX - вертикальная координата курсора<br />
	</td></tr><tr><td>
	4</td><td> Установить новое положение курсора<br />
		Вход:<br />
		CX - горизонтальная координата курсора<br />
		DX - вертикальная координата курсора<br />
	</td></tr><tr><td>
	5</td><td> Получить информацию о нажатии кнопок мыши<br />
		Вход:<br />
		BX - номер кнопки (0 - левая, 1 - правая, 2 - средняя)<br />
		Выход:<br />
		AX - состояние кнопок мыши (бит 0 - левая кнопка, бит 1 - правая кнопка, бит 2 - средняя кнопка)<br />
		BX - число нажатий на указанную кнопку с момента последнего вызова этой функции<br />
		CX - горизонтальная координата курсора в момент последнего нажатия указанной кнопки<br />
		DX - вертикальная координата курсора в момент последнего нажатия указанной кнопки<br />
	</td></tr><tr><td>
	6</td><td> Получить информацию об отпускании кнопок мыши
		Вход:<br />
		BX - номер кнопки (0 - левая, 1 - правая, 2 - средняя)<br />
		Выход:<br />
		AX - состояние кнопок мыши (бит 0 - левая кнопка, бит 1 - правая кнопка, бит 2 - средняя кнопка)<br />
		BX - число отпусканий на указанную кнопку с момента последнего вызова этой функции<br />
		CX - горизонтальная координата курсора в момент последнего отпускания указанной кнопки<br />
		DX - вертикальная координата курсора в момент последнего отпускания указанной кнопки<br />
	</td></tr><tr><td>
	7</td><td> Задать горизонтальный диапозон перемещения курсора<br />
		Вход:<br />
		СX - координаты левой границы перемещения курсора<br />
		DX - координаты правой границы перемещения курсора<br />
	</td></tr><tr><td>
	8</td><td> Задать вертикальный диапозон перемещения курсора<br />
		Вход:<br />
		СX - координаты верхней границы перемещения курсора<br />
		DX - координаты нижней границы перемещения курсора<br />
	</td></tr><tr><td>
	0Ch</td><td> Задать пользовательский обработчик сообщений мыши<br />
		Вход:<br />
		CX - Маска условий вызова<br />
		бит 0 - перемещение мыши<br />
		бит 1 - нажатие левой кнопки<br />
		бит 2 - отпускание левой кнопки<br />
		бит 3 - нажатие правой кнопки<br />
		бит 4 - отпускание правой кнопки<br />
		бит 5 - нажатие средней кнопкм<br />
		бит 6 - отпускание средней кнопки<br />
		биты 7-15 зарезервированны<br />
		ES:DI - адрес обработчика<br /><br />
		<b>Примечание</b><br />
		При вызове обработчика:<br />
		AX - маска условий вызова<br />
		BX - состояние кнопок мыши (бит 0 - левая кнопка, бит 1 - правая кнопка, бит 2 - средняя кнопка)<br />
		CX - горизонтальная координата курсора<br />
		DX - вертикальная координата курсора<br />
		SI - Горизонтальный отсчёт<br />
		DI - вертикальный отсчёт<br />
		DS - Сегмент данных драйвера мыши<br />
	</td></tr><tr><td>
	0Fh</td><td> Изменить чуствительность мыши<br />
		Вход:<br />
		CX - чуствительность по горизонтали<br />
		DX - чуствительность по вертикали<br />
	</td></tr><tr><td>
	13h</td><td> Задать порог удвоения скорости:<br />
		Вход:<br />
		DX - порог удвоения скорости<br />
	</td></tr></table>
</body>
</html>