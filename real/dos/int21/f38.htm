<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Низкоуровневое програмирование</title>
	<meta name="keywords" content="программирование, DOS, int 21h, прерывание, AH=38h, AX=3800h, региональная информация" />
	<meta name="description" content="Int 21h fn 38h" />
</head>
<body>
	<a href=../../../index.htm>Главная</a> - <a href=../../index.htm> Реальный режим </a> - <a href=../ints.htm>Прерывания DOS</a> - <a href=index.htm>INT 21h: Сервис DOS.</a> - <b>Функция 38h: Дать/установить информацию страны.</b><br />
	<h2>Функция 38h: Дать/установить информацию страны.</h2>
	<b>Вход:</b><br />
	AH=38h<br /><br />
	<b>Установить:</b><br />
	DX=0ffffh<br />
	AL - код страны, если Al==0ffh, то код страны в BX<br /><br />
	<b>Получить:</b><br />
	AL=0<br />
	DS:DX - адрес для сохранения информации о стране<br /><br />
	<b>Выход:</b><br />
	При ошибке флаг CF установлен и AX содержит код ошибки<br />	
	<b>Примечание:</b><br />
	Для DOS 3.0+ при получении информации можно запросить информация для определённой страны, указав её код по тем же правилам, что и при установке кода страны.<br />
	<font color=red>DOS 2.0 и выше</font>
	Информация о стране:<br />
	Dos 2.0 - 2.10<br />
	<table border=1><tr><td>Байты</td><td>Смысл</td></tr><tr><td valign=top>
	00-01</td><td>Формат даты<br />
				  00 = mm dd yy<br />
				  01 = dd mm yy<br />
				  02 = yy mm dd</td></tr><tr><td valign=top>
	02-05</td><td>символ валюты</td></tr><tr><td valign=top>
	06</td><td>00</td></tr><tr><td valign=top>
	07</td><td>разделитель тысячи</td></tr><tr><td valign=top>
	08</td><td>00</td></tr><tr><td vaign=top>
	09</td><td>разделитель дробной части</td></tr><tr><td valign=top>
	10</td><td>00</td></tr><tr><td valign=top>
	11</td><td>разделитель даты</td></tr><tr><td valign=top>
	12</td><td>00</td></tr><tr><td valign=top>
	13</td><td>Разделитель времени</td></tr><tr><td valign=top>
	14</td><td>00</td></tr><tr><td valign=top>
	15</td><td>формат валюты<br />
			   бит 0 - ==0 если символ валюты ставится после значения, ==1 наоборот<br />
			   бит 1 - есть ли пробел между символом валюты и значением<br />
			   бит 2 - установлен, если символ валюты заменяет десятичную точку</td></tr><tr><td valign=top>
	16</td><td>Количество дробных знаков в валюте</td></tr><tr><td valign=top>
	17</td><td>Формат времени<br />
			   ==0 12-часовой<br />
			   ==1 24-х часовой</td></tr><tr><td valign=top>
	18-21</td><td>адрес процедуры преобразования строчных<=>прописных букв (Символ передаётся в AL)</td></tr><tr><td valign=top>
	22</td><td>Разделитель данных</td></tr><tr><td valign=top>
	23</td><td>00</td></tr><tr><td valig=top>
	24-40</td><td>Резерв</td></tr>	
	</table><br />
	Dos 2.0 - 2.11<br />
	<table border=1><tr><td>Байты</td><td>Смысл</td></tr><tr><td valign=top>
	00-01</td><td>Формат даты<br />
				  00 = mm dd yy<br />
				  01 = dd mm yy<br />
				  02 = yy mm dd</td></tr><tr><td valign=top>
	02</td><td>символ валюты</td></tr><tr><td valign=top>
	03</td><td>00</td></tr><tr><td valign=top>
	04</td><td>разделитель тысячи</td></tr><tr><td valign=top>
	05</td><td>00</td></tr><tr><td vaign=top>
	06</td><td>разделитель дробной части</td></tr><tr><td valign=top>
	07</td><td>00</td></tr><tr><td valign=top>
	08-32</td><td>резерв</td></tr>
	</table><br />
	Коды стран:<br />
	1 - США<br />
	2 - Канада (французский стиль)<br />
	3 - Латинская америка<br />
	4 - Канада (английский стиль)<br />
	7 - Россия<br />
	20 - Египт<br />
	27 - Южная Африка (ЮАР?)<br />
	30 - Греция<br />
	31 - Нидерланды<br />
	32 - Бельгия<br />
	33 - Франция<br />
	34 - Испания<br />
	35 - вероятно, Болгария<br />
	36 - Венгрия<br />
	38 - Югославия<br />
	39 - Италия, Сан-Марино, Ватикан<br />
	40 - Румыния<br />
	41 - Швейцария, Лихтенштейн<br />
	42 - Чехословакия, Чехия<br />
	43 - (DR DOS 5.0+, MS DOS) Австрия<br />
	44 - Великобритания<br />
	45 - Дания<br />
	46 - Швеция<br />
	47 - Норвегия<br />
	48 - Польша<br />
	49 - Германия<br />
	51 - Перу<br />
	52 - Мексика<br />
	53 - Куба<br />
	54 - Аргентина<br />
	55 - Бразилия<br />
	56 - Чили<br />
	57 - Колумбия<br />
	58 - Венесуэла<br />
	60 - Малазия<br />
	61 - Австралия, Международный Английский<br />
	62 - Индонезия, Восточный Тимор<br />
	63 - Филипины<br />
	64 - Новая Зеландия<br />
	65 - Сингапур<br />
	66 - Тайланд или тайвань<br />
	81 - (DR DOS 5.0+, MS-DOS 5.0+) Япония<br />
	82 - (DR DOS 5.0+, MS-DOS)Южная Корея<br />
	84 - Вьетнам<br />
	86 - (MS-DOS 5.0+) Китай<br />
	88 - (MS-DOS 5.0+) Тайвань<br />
	90 - (MS-DOD 5.0+) Турция<br />
	91 - Индия<br />
	92 - Пакистан<br />
	93 - Авганистан<br />
	94 - Шри-Ланка<br />
	98 - Иран<br />
	99 - Англоязычная Азия<br />
	102 - х\з что<br />
	112 - Республика Беларусь<br />
	200 - (PC DOS 6.1+) Тайланд (при получении информации возвращается неверные данные)<br />
	212 - Морокко<br />
	213 - Алжир<br />
	216 - Тунис<br />
	218 - Ливия<br />
	220 - Гамбия<br />
	221 - Синегал<br />
	222 - Maruitania (Мавритания штоле?)<br />
	223 - Мали<br />
	224 - Африканская Гвинея<br />
	225 - Берег Слоновой Кости<br />
	226 - Буркина Фасо<br />
	227 - Нигер<br />
	228 - Того<br />
	229 - Бенин<br />
	230 - Маврикий<br />
	231 - Либерия<br />
	232 - Сьерра-Леоне<br />
	233 - Гана<br />
	234 - Нигерия<br />
	235 - Чад<br />
	236 - Центрально-Африканская Республика<br />
	237 - Камерун<br />
	238 - Острова Зелёного Мыса<br />
	239 - Сан-Томе и Принсипи<br />
	240 - Экваториальная Гвинея<br />
	241 - Габон<br />
	242 - Республика Конго<br />
	243 - Заир<br />
	244 - Ангола<br />
	245 - Гвинея-Биасу<br />
	246 - Диего-Гарсия<br />
	247 - Остров Вознесения<br />
	248 - Сейшельские острова<br />
	249 - Судан<br />
	250 - Руанда<br />
	251 - Эфиопия<br />
	252 - Сомали<br />
	253 - Джибути<br />
	254 - Кения<br />
	255 - Танзания<br />
	256 - Уганда<br />
	257 - Бурунди<br />
	259 - Мозамбик<br />
	260 - Замбия<br />
	261 - Мадакаскар<br />
	262 - Остров Реюньон<br />
	263 - Зимбабве<br />
	264 - Намибия<br />
	265 - Малави<br />
	266 - Лесото<br />
	267 - Ботсвана<br />
	268 - Королевство Свазиленд<br />
	269 - Коморские острова<br />
	270 - Майотта<br />
	290 - Остров Святой Елены<br />
	297 - Остров Аруба<br />
	298 - Фарерские острова<br />
	299 - Гренландия<br />
	350 - Гибралтар<br />
	351 - Португалия<br />
	352 - Люксемюург<br />
	353 - Ирландия<br />
	354 - Исландия<br />
	355 - Албания<br />
	356 - Мальта<br />
	357 - Кипр<br />
	358 - Финляндия<br />
	359 - Болгария<br />
	370 - Литва (при получении информации возвращается неверные данные)<br />
	371 - Латвия (при получении информации возвращается неверные данные)<br />
	372 - Эстония<br />
	373 - Молдова<br />
	375 - (MS-DOS 7.10 (Win98)) х\з что<br />
	380 - Украина<br />
	381 - Сербия, Черногория<br />
	384 - Хорватия<br />
	385 - (PC DOS 7+) Хорватия<br />
	386 - Словения<br />
	387 - Босния и Герциговина<br />
	388 - (PC DOS 7+) Босния и Герциговина (кирилица)<br />
	389 - Бывшая Югославская Республика Македония<br />
	421 - (PC DOS 7+) Чешская Республика, (MS DOS) Словакия<br />
	422 - Словакия (при получении информации возвращается неверные данные)<br />
	500 - Фолклендские (Мальвинские) острова<br />
	501 - Белиз<br />
	502 - Гватемала<br />
	503 - Сальвадор<br />
	504 - Гондурас<br />
	505 - Никарагуа<br />
	506 - Коста-Рика<br />
	507 - Панама<br />
	508 - Сен-Пьер и Микелон<br />
	509 - Гаити<br />
	590 - Гваделупа<br />
	591 - Боливая<br />
	592 - Гайана<br />
	593 - Эквадор<br />
	594 - Франчузская Гайана<br />
	595 - Парагвай<br />
	596 - Мартиника, Французские Антильские острова<br />
	597 - Суринам<br />
	598 - Уругвай<br />
	599 - Нидерландские Антильские острова<br />
	666 - (PTS DOS 6.51) Россия?<br />
	667 - (PTS DOS 6.51) Польша?<br />
	668 - (PTS DOS 6.51) Польша? (славянский стиль)<br />
	670 - Сайпан, Новыйе ​​Марианские острова<br />
	671 - Гуам<br />
	672 - Остров Норфолк (Австралия), Остров Рождества, Кокосовые острова, Антарктида<br />
	673 - Бруней-Даруссалам<br />
	674 - Науру<br />
	675 - Папуа Новой Гвинеи<br />
	676 - Острова Тонга<br />
	677 - Соломоновы Острова<br />
	678 - Вануату<br />
	679 - Фиджи<br />
	680 - Архипелаг Палау<br />
	681 - Уоллис и Футуна<br />
	682 - Острова Кука<br />
	683 - Ниуэ (Савидж)<br />
	684 - Американское Самоа<br />
	685 - Западная Саома<br />
	686 - Кирибати<br />
	687 - Новая Каледония<br />
	688 - Тувалу<br />
	689 - Французская Полинезия<br />
	690 - Токелау<br />
	691 - Микронезия<br />
	692 - Маршалловы острова<br />
	711 - х\з что<br />
	785 - Арабские страны (Ближний Восток / Саудовская Аравия / и т.д.).<br />
	804 - Украина<br />
	809 - Антигуа и Барбуда, Ангилья, Багамские острова, Барбадос, Бермудские острова, Британские Виргинские острова, Каймановы острова, Доминика, Доминиканская Республика, Гренада, Ямайка, Монтсеррат, Сент-Китс и Невис, Сент-Люсия, Сент-Винсент и Гренадины, Тринидад и Тобаго, Теркс и Кайкос<br />
	850 - Северная корея<br />
	852 - Гон-Конг<br />
	853 - Макао<br />
	855 - Камбоджа<br />
	856 - Лаос<br />
	880 - Бонгладеш<br />
	886 - (MS DOS 6.22+) Тайвань<br />
	960 - Мальдивы<br />
	961 - Ливан<br />
	962 - Иордания<br />
	963 - Сирия / Сирийская Арабская Республика<br />
	964 - Ирак<br />
	965 - Кувейт<br />
	966 - Саудовская Аравия<br />
	967 - Йемен<br />
	968 - Оман<br />
	969 - (Арабский MS DOS 5.0) Йемен<br />
	971 - Объединенные Арабские Эмираты<br />
	972 - (DR DOS 5.0, MS DOS 5.0+) Израиль<br />
	973 - Бахрейн<br />
	974 - Катар<br />
	975 - Бутан<br />
	976 - Монголия<br />
	977 - Непал<br />
	995 - Мьянма (Бирма)<br />
</body>
</html>
